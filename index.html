<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>死了么 (Memory Planet) - 原型演示</title>
    
    <!-- 1. 引入 React 核心库 (通过 CDN) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 2. 引入 Babel (用于在浏览器中直接解析 JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 3. 引入 Tailwind CSS (通过 CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Noto Serif SC', 'serif'],
                    },
                    padding: {
                        'safe': 'env(safe-area-inset-bottom)',
                    },
                    animation: {
                        'in': 'fade-in 0.3s ease-out',
                    }
                }
            }
        }
    </script>
    <style>
        /* 基础样式设置 */
        body { background-color: #020617; color: #f8fafc; }
        /* 隐藏滚动条但允许滚动 (美化移动端体验) */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* 简单的淡入动画 */
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 4. React 应用代码 -->
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- 图标组件 (内嵌 SVG，无需 npm 依赖) ---
        const IconBase = ({ size = 24, className = "", children, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                {children}
            </svg>
        );

        const Star = (props) => <IconBase {...props}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></IconBase>;
        const MessageCircle = (props) => <IconBase {...props}><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></IconBase>;
        const Heart = (props) => <IconBase {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></IconBase>;
        const User = (props) => <IconBase {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></IconBase>;
        const Plus = (props) => <IconBase {...props}><path d="M5 12h14"/><path d="M12 5v14"/></IconBase>;
        const Send = (props) => <IconBase {...props}><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></IconBase>;
        const Flame = (props) => <IconBase {...props}><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.1.2-2.2.6-3.3.7 3.7 4.4 4.5 5.9 3.8Z"/></IconBase>;
        const Flower = (props) => <IconBase {...props}><circle cx="12" cy="12" r="3"/><path d="M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5"/><path d="M12 7.5V9"/><path d="M7.5 12H9"/><path d="M16.5 12H15"/><path d="M12 16.5V15"/><path d="m8 8 1.88 1.88"/><path d="M14.12 9.88 16 8"/><path d="m8 16 1.88-1.88"/><path d="M14.12 14.12 16 16"/></IconBase>;
        const Music = (props) => <IconBase {...props}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></IconBase>;
        const Calendar = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></IconBase>;
        const ChevronLeft = (props) => <IconBase {...props}><path d="m15 18-6-6 6-6"/></IconBase>;
        const MoreHorizontal = (props) => <IconBase {...props}><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></IconBase>;

        // --- 模拟数据 ---
        const MOCK_USER = {
            name: "林晓",
            avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Felix",
            planetName: "奶奶的星云",
            planetDescription: "永远怀念，爱与温暖的港湾"
        };

        const MOCK_MEMORIES = [
            {
                id: 1,
                date: "2023-04-05",
                title: "最后一次去公园",
                content: "那天阳光很好，奶奶虽然坐在轮椅上，但笑得很开心。看着满开的樱花，她说像年轻时一样美。",
                type: "photo",
                imageColor: "bg-pink-200"
            },
            {
                id: 2,
                date: "1998-06-12",
                title: "教我包饺子",
                content: "这是我第一次学包饺子，弄得满脸面粉。奶奶手把手教我捏褶子，那味道我一辈子忘不了。",
                type: "text",
                imageColor: "bg-yellow-100"
            },
            {
                id: 3,
                date: "2015-09-20",
                title: "大学毕业典礼",
                content: "奶奶特意穿了新衣服来参加我的毕业典礼。她说她是世界上最骄傲的奶奶。",
                type: "photo",
                imageColor: "bg-blue-200"
            }
        ];

        const INITIAL_CHAT_MESSAGES = [
            { id: 1, sender: 'ai', text: '晓晓，今天过得怎么样？无论开心还是难过，奶奶都在这里听着呢。', time: '09:30' }
        ];

        // --- 组件逻辑 ---

        // 底部导航按钮
        function TabButton({ id, icon, label, active, onClick }) {
            return (
                <button 
                    onClick={() => onClick(id)}
                    className={`flex flex-col items-center justify-center w-12 gap-1 transition-colors ${
                        active ? 'text-sky-400' : 'text-slate-500 hover:text-slate-300'
                    }`}
                >
                    <div className={`transition-transform duration-200 ${active ? '-translate-y-1' : ''}`}>
                        {icon}
                    </div>
                    <span className="text-[10px] font-medium">{label}</span>
                </button>
            );
        }

        // 个人中心列表项
        function ProfileItem({ icon, label, value }) {
            return (
                <div className="flex items-center justify-between p-2 hover:bg-slate-800/50 rounded-lg cursor-pointer transition-colors">
                    <div className="flex items-center gap-3 text-slate-300">
                        <div className="text-slate-500">{icon}</div>
                        <span className="text-sm">{label}</span>
                    </div>
                    <div className="flex items-center gap-2">
                        {value && <span className="text-xs text-slate-500">{value}</span>}
                        <ChevronLeft size={16} className="rotate-180 text-slate-600" />
                    </div>
                </div>
            );
        }

        // 星球视图
        function PlanetView({ memories }) {
            return (
                <div className="p-4 space-y-6 animate-in">
                    <div className="relative h-64 flex items-center justify-center">
                        <div className="absolute inset-0 bg-gradient-to-b from-indigo-900/20 to-transparent rounded-full blur-3xl transform -translate-y-12"></div>
                        <div className="relative w-40 h-40">
                            <div className="absolute inset-0 rounded-full bg-gradient-to-tr from-blue-600 to-purple-400 opacity-80 blur-lg animate-pulse"></div>
                            <div className="absolute inset-2 rounded-full bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-800 border border-indigo-500/30 shadow-[0_0_40px_rgba(79,70,229,0.3)] flex items-center justify-center overflow-hidden">
                                <div className="absolute inset-0 bg-black opacity-30"></div>
                                <div className="text-center z-10 p-2">
                                    <div className="text-3xl font-serif font-bold text-white tracking-widest mb-1">奶奶</div>
                                    <div className="text-xs text-indigo-200 uppercase tracking-widest opacity-80">1935 - 2023</div>
                                </div>
                            </div>
                            <div className="absolute top-0 -right-4 w-3 h-3 bg-yellow-200 rounded-full shadow-[0_0_10px_#fef08a] animate-bounce delay-700"></div>
                            <div className="absolute bottom-4 -left-2 w-2 h-2 bg-pink-300 rounded-full shadow-[0_0_8px_#f9a8d4] animate-pulse"></div>
                        </div>
                    </div>

                    <div>
                        <div className="flex justify-between items-center mb-4 px-2">
                            <h2 className="text-lg font-bold text-slate-200 flex items-center gap-2">
                                <Calendar size={18} className="text-sky-400" />
                                记忆碎片
                            </h2>
                            <button className="text-xs text-slate-500 hover:text-sky-400 transition-colors">时间倒序</button>
                        </div>

                        <div className="space-y-6 pl-4 relative border-l border-slate-800 ml-2">
                            {memories.map((mem) => (
                                <div key={mem.id} className="relative pl-6 group">
                                    <div className="absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-slate-700 border-2 border-slate-950 group-hover:bg-sky-400 transition-colors"></div>
                                    <div className="bg-slate-900/50 border border-slate-800 rounded-xl p-4 hover:border-slate-700 transition-all hover:bg-slate-800/50">
                                        <div className="text-xs text-sky-500 font-medium mb-1">{mem.date}</div>
                                        <h3 className="font-bold text-slate-200 text-base mb-2">{mem.title}</h3>
                                        
                                        {mem.type === 'photo' && (
                                            <div className={`w-full h-32 ${mem.imageColor} rounded-lg mb-3 flex items-center justify-center overflow-hidden relative`}>
                                                <div className="absolute inset-0 bg-black/10"></div>
                                                <span className="text-slate-800 font-medium opacity-50 text-sm">照片: {mem.title}</span>
                                            </div>
                                        )}
                                        
                                        <p className="text-sm text-slate-400 leading-relaxed line-clamp-3">
                                            {mem.content}
                                        </p>
                                        
                                        <div className="mt-3 pt-3 border-t border-white/5 flex gap-4 text-slate-500 text-xs">
                                            <span className="flex items-center gap-1 hover:text-pink-400 cursor-pointer"><Heart size={12} /> 12</span>
                                            <span className="flex items-center gap-1 hover:text-blue-400 cursor-pointer"><MessageCircle size={12} /> 2</span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                            
                            <div className="relative pl-6 pb-4">
                                <div className="absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full bg-slate-800 border-2 border-slate-950"></div>
                                <p className="text-xs text-slate-600 italic">生命是一场漫长的告别，但记忆让爱永存。</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // 聊天视图
        function ChatView() {
            const [messages, setMessages] = useState(INITIAL_CHAT_MESSAGES);
            const [inputText, setInputText] = useState("");
            const messagesEndRef = useRef(null);
            const [isTyping, setIsTyping] = useState(false);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            useEffect(scrollToBottom, [messages, isTyping]);

            const handleSend = () => {
                if (!inputText.trim()) return;

                const newMsg = { id: Date.now(), sender: 'user', text: inputText, time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) };
                setMessages(prev => [...prev, newMsg]);
                setInputText("");
                setIsTyping(true);

                setTimeout(() => {
                    const responses = [
                        "我都记得呢，那是我们最快乐的时光。",
                        "别担心，我会一直陪着你，看着你成长。",
                        "听到你这么说，我心里暖暖的。",
                        "乖孩子，要照顾好自己，按时吃饭哦。",
                        "这件事让我想起了以前我们一起去海边的日子..."
                    ];
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    
                    setMessages(prev => [
                        ...prev, 
                        { id: Date.now() + 1, sender: 'ai', text: randomResponse, time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) }
                    ]);
                    setIsTyping(false);
                }, 1500);
            };

            return (
                <div className="flex flex-col h-[calc(100vh-160px)] animate-in">
                    <div className="p-4 border-b border-slate-800 bg-slate-900/50 backdrop-blur-md flex items-center justify-between sticky top-0 z-10">
                        <div className="flex items-center gap-3">
                            <div className="w-10 h-10 rounded-full bg-indigo-600 border-2 border-sky-400 p-0.5 overflow-hidden">
                                <img src={MOCK_USER.avatar} alt="Avatar" className="w-full h-full object-cover bg-white" />
                            </div>
                            <div>
                                <h3 className="font-bold text-white">奶奶 (AI)</h3>
                                <div className="flex items-center gap-1">
                                    <span className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                                    <span className="text-xs text-slate-400">在线 · 记忆库已同步</span>
                                </div>
                            </div>
                        </div>
                        <button className="text-slate-400 hover:text-white"><MoreHorizontal size={24} /></button>
                    </div>

                    <div className="flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar">
                        <div className="text-center text-xs text-slate-600 my-4">昨天 09:30</div>
                        
                        {messages.map((msg) => (
                            <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>
                                <div className={`max-w-[80%] rounded-2xl px-4 py-3 ${
                                    msg.sender === 'user' 
                                        ? 'bg-sky-600 text-white rounded-tr-sm' 
                                        : 'bg-slate-800 text-slate-200 rounded-tl-sm border border-slate-700'
                                }`}>
                                    <p className="text-sm">{msg.text}</p>
                                    <div className={`text-[10px] mt-1 text-right ${msg.sender === 'user' ? 'text-sky-200' : 'text-slate-500'}`}>{msg.time}</div>
                                </div>
                            </div>
                        ))}

                        {isTyping && (
                            <div className="flex justify-start">
                                <div className="bg-slate-800 rounded-2xl rounded-tl-sm px-4 py-3 border border-slate-700 flex items-center gap-1">
                                    <div className="w-2 h-2 bg-slate-500 rounded-full animate-bounce"></div>
                                    <div className="w-2 h-2 bg-slate-500 rounded-full animate-bounce delay-75"></div>
                                    <div className="w-2 h-2 bg-slate-500 rounded-full animate-bounce delay-150"></div>
                                </div>
                            </div>
                        )}
                        <div ref={messagesEndRef} />
                    </div>

                    <div className="p-4 bg-slate-900 border-t border-slate-800">
                        <div className="flex items-center gap-3 bg-slate-800 rounded-full px-4 py-2 border border-slate-700 focus-within:border-sky-500 transition-colors">
                            <button className="text-slate-400 hover:text-sky-400"><Plus size={20} /></button>
                            <input 
                                type="text" 
                                value={inputText}
                                onChange={(e) => setInputText(e.target.value)}
                                onKeyDown={(e) => e.key === 'Enter' && handleSend()}
                                placeholder="想说什么..." 
                                className="flex-1 bg-transparent border-none focus:ring-0 text-white placeholder-slate-500 py-1"
                            />
                            <button 
                                onClick={handleSend}
                                className={`p-1.5 rounded-full transition-all ${inputText.trim() ? 'bg-sky-500 text-white rotate-0' : 'bg-slate-700 text-slate-500 -rotate-90'}`}
                            >
                                <Send size={18} />
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // 祭奠视图
        function RitualView() {
            const [activeRitual, setActiveRitual] = useState(null);
            const [offeringCount, setOfferingCount] = useState({ candle: 124, flower: 89 });

            const handleRitual = (type) => {
                setActiveRitual(type);
                setOfferingCount(prev => ({ ...prev, [type]: prev[type] + 1 }));
                
                setTimeout(() => {
                    setActiveRitual(null);
                }, 3000);
            };

            return (
                <div className="p-4 h-full flex flex-col items-center animate-in">
                    <div className="w-full text-center mb-8 mt-4">
                        <h2 className="text-2xl font-serif text-slate-200">云端祭奠</h2>
                        <p className="text-slate-500 text-sm mt-1">传递思念，点亮心灯</p>
                    </div>

                    <div className="flex-1 w-full max-w-sm relative flex flex-col items-center justify-end pb-12 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent rounded-t-3xl border-b border-slate-800">
                        <div className="absolute bottom-0 w-full h-32 bg-orange-500/10 blur-3xl rounded-full"></div>
                        
                        <div className="w-32 h-40 bg-slate-800 border-4 border-slate-700 rounded-lg shadow-2xl mb-12 relative overflow-hidden group">
                            <div className="absolute inset-0 bg-slate-900 flex items-center justify-center">
                                <User size={48} className="text-slate-700" />
                            </div>
                            <div className="absolute bottom-0 w-full bg-slate-950/80 p-1 text-center text-xs text-slate-300">奶奶</div>
                        </div>

                        <div className="h-24 flex items-end justify-center gap-8 z-10 relative">
                            <div className={`transition-all duration-1000 ${activeRitual === 'candle' ? 'opacity-100 scale-110' : 'opacity-80 scale-100'}`}>
                                <div className="relative flex flex-col items-center">
                                    {activeRitual === 'candle' && (
                                        <div className="absolute -top-8 w-4 h-8 bg-orange-400 rounded-full blur-md animate-pulse"></div>
                                    )}
                                    <div className={`w-2 h-4 ${activeRitual === 'candle' ? 'bg-orange-300' : 'bg-slate-600'} rounded-t-full mb-1`}></div>
                                    <div className="w-8 h-12 bg-gradient-to-b from-red-100 to-red-200 rounded-md shadow-lg"></div>
                                    <span className="text-xs text-slate-500 mt-2">{offeringCount.candle}</span>
                                </div>
                            </div>

                            <div className={`transition-all duration-1000 ${activeRitual === 'flower' ? 'opacity-100 scale-110 -translate-y-4' : 'opacity-80 scale-100'}`}>
                                <div className="relative flex flex-col items-center">
                                    <div className={`transition-transform duration-700 ${activeRitual === 'flower' ? 'rotate-12' : 'rotate-0'}`}>
                                        <Flower size={48} className={activeRitual === 'flower' ? 'text-yellow-400' : 'text-slate-600'} />
                                    </div>
                                    <span className="text-xs text-slate-500 mt-2">{offeringCount.flower}</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="w-full grid grid-cols-2 gap-4 mt-8 mb-24">
                        <button onClick={() => handleRitual('candle')} className="bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-xl p-4 flex flex-col items-center gap-2 transition-all active:scale-95">
                            <div className="w-10 h-10 rounded-full bg-orange-500/20 flex items-center justify-center text-orange-400">
                                <Flame size={20} />
                            </div>
                            <span className="text-sm font-medium text-slate-300">点亮心灯</span>
                        </button>

                        <button onClick={() => handleRitual('flower')} className="bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-xl p-4 flex flex-col items-center gap-2 transition-all active:scale-95">
                            <div className="w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center text-yellow-400">
                                <Flower size={20} />
                            </div>
                            <span className="text-sm font-medium text-slate-300">敬献鲜花</span>
                        </button>
                    </div>
                </div>
            );
        }

        // 个人中心视图
        function ProfileView() {
            return (
                <div className="p-4 space-y-6 animate-in">
                    <div className="flex items-center gap-4 py-4">
                        <div className="w-16 h-16 rounded-full bg-slate-800 border-2 border-slate-700 overflow-hidden">
                            <div className="w-full h-full flex items-center justify-center bg-slate-700 text-slate-400">
                                <User size={32} />
                            </div>
                        </div>
                        <div>
                            <h2 className="text-xl font-bold text-white">林晓</h2>
                            <p className="text-sm text-slate-500">已守护星球 365 天</p>
                        </div>
                    </div>

                    <div className="bg-slate-900 rounded-2xl p-4 border border-slate-800 space-y-4">
                        <ProfileItem icon={<Star size={18} />} label="我的星球管理" />
                        <ProfileItem icon={<Music size={18} />} label="背景音乐设置" value="当你老了" />
                        <ProfileItem icon={<User size={18} />} label="亲友共享权限" />
                    </div>

                    <div className="bg-slate-900 rounded-2xl p-4 border border-slate-800 space-y-4">
                        <ProfileItem icon={<Heart size={18} />} label="关于我们" />
                        <ProfileItem icon={<MessageCircle size={18} />} label="意见反馈" />
                    </div>
                    
                    <div className="text-center mt-8">
                        <button className="text-sm text-slate-600 hover:text-slate-400">退出登录</button>
                    </div>
                </div>
            );
        }

        // --- 主应用组件 ---
        function App() {
            const [activeTab, setActiveTab] = useState('planet');
            const [showAddMemory, setShowAddMemory] = useState(false);

            const renderTabBar = () => (
                <div className="fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-800 pb-safe pt-2 px-4 flex justify-between items-center z-50 h-20 shadow-2xl">
                    <TabButton id="planet" icon={<Star size={24} />} label="星球" active={activeTab === 'planet'} onClick={setActiveTab} />
                    <TabButton id="ritual" icon={<Flame size={24} />} label="祭奠" active={activeTab === 'ritual'} onClick={setActiveTab} />
                    <div className="relative -top-6">
                        <button onClick={() => setShowAddMemory(true)} className="w-14 h-14 rounded-full bg-gradient-to-r from-sky-400 to-blue-600 flex items-center justify-center shadow-lg hover:scale-105 transition-transform border-4 border-slate-900 text-white">
                            <Plus size={32} />
                        </button>
                    </div>
                    <TabButton id="chat" icon={<MessageCircle size={24} />} label="连接" active={activeTab === 'chat'} onClick={setActiveTab} />
                    <TabButton id="profile" icon={<User size={24} />} label="我的" active={activeTab === 'profile'} onClick={setActiveTab} />
                </div>
            );

            return (
                <div className="min-h-screen bg-slate-950 text-slate-100 font-sans overflow-hidden relative flex justify-center">
                    {/* 移动端容器模拟 */}
                    <div className="w-full max-w-md h-full min-h-screen bg-slate-950 shadow-2xl relative overflow-y-auto pb-24 no-scrollbar">
                        
                        {/* 状态栏 */}
                        <div className="sticky top-0 z-40 bg-slate-950/80 backdrop-blur-md px-4 py-3 flex justify-between items-center text-xs text-slate-400 border-b border-white/5">
                            <span>9:41</span>
                            <div className="flex gap-1">
                                <div className="w-4 h-2.5 bg-slate-400 rounded-sm"></div>
                                <div className="w-4 h-2.5 bg-slate-400 rounded-sm"></div>
                                <div className="w-6 h-2.5 bg-green-500 rounded-sm"></div>
                            </div>
                        </div>

                        {/* 主界面切换 */}
                        <main className="relative">
                            {activeTab === 'planet' && <PlanetView memories={MOCK_MEMORIES} />}
                            {activeTab === 'chat' && <ChatView />}
                            {activeTab === 'ritual' && <RitualView />}
                            {activeTab === 'profile' && <ProfileView />}
                        </main>

                        {/* 底部导航 */}
                        {renderTabBar()}

                        {/* 添加记忆弹窗 */}
                        {showAddMemory && (
                            <div className="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-end sm:items-center justify-center p-4">
                                <div className="bg-slate-900 w-full max-w-md rounded-2xl p-6 border border-slate-800 animate-in slide-in-from-bottom-10 fade-in duration-300">
                                    <h3 className="text-xl font-bold text-white mb-4">存入新的记忆碎片</h3>
                                    <div className="space-y-4">
                                        <input type="text" placeholder="标题" className="w-full bg-slate-800 border-none rounded-lg p-3 text-white placeholder-slate-500 focus:ring-2 focus:ring-sky-500" />
                                        <textarea placeholder="写下那一刻的故事..." rows={4} className="w-full bg-slate-800 border-none rounded-lg p-3 text-white placeholder-slate-500 focus:ring-2 focus:ring-sky-500 resize-none"></textarea>
                                        <div className="flex gap-4">
                                            <button className="flex-1 py-3 bg-slate-800 rounded-lg text-slate-300 font-medium hover:bg-slate-700">添加照片</button>
                                            <button className="flex-1 py-3 bg-slate-800 rounded-lg text-slate-300 font-medium hover:bg-slate-700">录制声音</button>
                                        </div>
                                        <div className="flex gap-3 mt-6">
                                            <button onClick={() => setShowAddMemory(false)} className="flex-1 py-3 text-slate-400 font-medium">取消</button>
                                            <button onClick={() => setShowAddMemory(false)} className="flex-1 py-3 bg-sky-500 hover:bg-sky-600 text-white rounded-lg font-bold shadow-lg shadow-sky-500/20">
                                                存入星云
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // 5. 挂载应用
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
